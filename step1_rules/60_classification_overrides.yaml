# Classification Overrides
# Vendor-specific and source-specific classification rules that override default keyword matching
# These rules have high weight/priority to ensure they win over generic flavor or ingredient rules

version: 1

overrides:
  # BBI: map any "Cake"/"Mousse" item to Cakes & Mousse (finished goods)
  - when_vendor_in: ["BBI"]   # ensure vendor is normalized to exactly "BBI"
    when_name_matches:
      - "(?i)\\bcake\\b"
      - "(?i)\\bcheese\\s*cake\\b"   # cheesecake / cheese cake
      - "(?i)\\bmousse\\b"
      - "蛋糕"
      - "芝士蛋糕"
      - "慕斯"
    set:
      L1: "A02 - COGS–Finished Goods"
      L2: "C20 - Cakes & Mousse"
    weight: 98  # outrank flavor/ingredient rules

  # If your pipeline uses source_type instead of vendor, mirror rule:
  # - when_source_type_in: ["bbi"]
  #   when_name_matches: [ ...same patterns... ]
  #   set: { L1: "...", L2: "..." }
  #   weight: 98
