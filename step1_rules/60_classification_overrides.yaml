# Classification Overrides
# Vendor-specific and source-specific classification rules that override default keyword matching
# These rules have high weight/priority to ensure they win over generic flavor or ingredient rules

version: 1

overrides:
  # BBI: Cake/Mousse -> Cakes & Mousse
  - id: bbi_cakes_mousse
    when_vendor_in: ["BBI"]
    when_name_matches:
      - "(?i)\\bcake\\b"
      - "(?i)\\bcheese\\s*cake\\b"
      - "(?i)\\bmousse\\b"
      - "蛋糕"
      - "芝士蛋糕"
      - "慕斯"
    set:
      L1: "A02 - COGS–Finished Goods"
      L2: "C20 - Cakes & Mousse"
    weight: 98

  # UNI_Mousse: default the same mapping
  - id: uni_mousse_cakes_mousse
    when_vendor_in: ["UNI_Mousse", "UNI Bakery"]
    when_name_matches:
      - "(?i)\\bcake\\b"
      - "(?i)\\bcheese\\s*cake\\b"
      - "(?i)\\bmousse\\b"
      - "蛋糕"
      - "芝士蛋糕"
      - "慕斯"
    set:
      L1: "A02 - COGS–Finished Goods"
      L2: "C20 - Cakes & Mousse"
    weight: 99   # 高一点，确保压过风味/原料关键词
